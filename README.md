# Курсовая работа

## Оглавление

- [Оглавление](#оглавление);
- [Что это?](#что-это);
- [Как установить?](#как-установить);
- [Как запустить?](#как-запустить);
- [Настройки](#настройки);
  - [Общие](#общие);
  - [Эмулятора работы датчиков и насоса](#эмулятора-работы-датчиков-и-насоса);
  - [Эмулятора работы контроллера](#эмулятора-работы-контроллера);
  - [Монитора состояния датчиков и насоса](#монитора-состояния-датчиков-и-насоса).

## Что это?

Это курсовая работа по дисциплине Вычислительные системы реального времени.

Данная работа состоит из трёх компонентов:

- Эмулятора работы датчиков и насоса;
- Эмулятора работы контроллера;
- Монитора состояния датчиков и насоса.

## Как установить?

Для того, чтобы установить данное приложение необходимо, чтобы на машине, на которую производится
установка был установлен [node.js](https://nodejs.org).

Если он установлен – перейдите в корневую директорию проекта и выполните в терминале следующую команду:

```bash
npm i
```

## Как запустить?

__Учтите, что по умолчанию все компоненты данной работы полагаются на наличие локального, работающего MQTT-сервера.__

Для запуска каждого из компонентов данной работу нужно для начала перейти в коневую директорию проекта.

Для запуска эмулятора работы датчиков и насоса выполните в терминале следующую команду:

```bash
npm run sensors
```

Для запуска эмулятора работы контроллера выполните в терминале следующую команду:

```bash
npm run module
```

Для запуска монитора работы датчиков и насоса выполните в терминале следующую команду:

```bash
npm run monitor
```

## Настройки

Вся настройка каждого из компонентов производится посредством переменных окружения.
Ниже представлены общие и специфические для компонента переменные окуржения и их описание.

### Общие

| Имя    | Тип      | Значение по умолчанию | Описание           |
|--------|----------|-----------------------|--------------------|
| `HOST` | `string` | `localhost`           | Адрес MQTT-сервера |
| `PORT` | `number` | `1883`                | Порт MQTT-сервера  |

### Эмулятора работы датчиков и насоса

| Имя          | Тип      | Значение по умолчанию | Описание                                         |
|--------------|----------|-----------------------|--------------------------------------------------|
| `MIN`        | `number` | `1`                   | Уровень срабатывания датчика минимального объёма |
| `MAX`        | `number` | `100`                 | Уровень срабатывания датчика максиального объёма |
| `CURRENT`    | `number` | `0`                   | Текущий объём                                    |
| `FILL_RATE`  | `number` | `10`                  | Скорость наполнения объёма                       |
| `DRAIN_RATE` | `number` | `20`                  | Скорость опустошения объёма                      |
| `TICK`       | `number` | `20`                  | Частота обновления объёма                        |

### Эмулятора работы контроллера

| Имя | Тип | Значение по умолчанию | Описание |
|-----|-----|-----------------------|----------|

### Монитора состояния датчиков и насоса

| Имя | Тип | Значение по умолчанию | Описание |
|-----|-----|-----------------------|----------|
